<section class="hero">
    <div class="hero-content">
        <h1>Encontre o Lar Perfeito Para Você</h1>
        <p>A melhor seleção de casas e apartamentos com transparência e confiança.</p>

        <form class="search-box" role="search" aria-label="Pesquisar imóveis"
            (submit)="$event.preventDefault(); onBuscar(searchInput.value)">
            <label for="searchInput" class="visually-hidden">Pesquisar</label>

            <div class="search-field">
                <span class="material-icons search-icon" aria-hidden="true">search</span>
                <input id="searchInput" #searchInput type="search"
                    placeholder="Buscar por cidade, bairro ou tipo de imóvel..."
                    aria-label="Buscar por cidade, bairro ou tipo de imóvel" />
            </div>

            <button type="submit" class="btn-search" aria-label="Buscar imóveis">Buscar</button>
        </form>
    </div>
</section>

<section class="featured py-5">
    <div class="container">
        <h2 class="mb-4 text-center">Imóveis Disponíveis</h2>
        <div class="row">
            <!-- Mensagem quando não houver imóveis -->
            <div *ngIf="imoveis.length === 0" class="col-12 text-center">
                <p>Nenhum imóvel disponível no momento.</p>
            </div>

            <!-- Cards de imóveis -->
            <div class="col-md-4 mb-4" *ngFor="let imovel of imoveis">
                <div class="card h-100">
                    <!-- Imagem baseada no código do imóvel -->
                    <img [src]="imovel.codigo + '.jpg'" class="card-img-top" [alt]="imovel.tipo">
                    <div class="card-body">
                        <!-- Tipo do imóvel -->
                        <h5 class="card-title">{{ imovel.tipo }}</h5>

                        <p class="card-text">
                            <span class="material-icons">location_on</span> {{ imovel['endereço'] }}
                        </p>

                        <p class="card-text">
                            <span class="material-icons">sell</span> R$ {{ imovel.valor | number:'1.2-2' }}
                        </p>

                        <p class="card-text">
                            <span class="material-icons">check_circle</span> {{ imovel.status }}
                        </p>

                        <button class="btn btn-primary w-100" [routerLink]="['/imovel', imovel.codigo]">
                            Mais Detalhes
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
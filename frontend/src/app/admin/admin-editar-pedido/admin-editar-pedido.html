<div class="admin-container">
  <div class="admin-card">
    <h2 class="titulo">Editar Pedido</h2>

    <!-- Busca de Pedido -->
    <div class="busca-pedido">
      <div class="form-group">
        <label for="codigo">Código do Pedido</label>
        <input 
          type="number" 
          id="codigo" 
          [(ngModel)]="codigo" 
          placeholder="Digite o código"
          (keyup.enter)="buscarPedido()">
      </div>
      <button class="btn-buscar" (click)="buscarPedido()" [disabled]="carregando">
        {{ carregando ? 'Buscando...' : 'Buscar' }}
      </button>
    </div>

    <!-- Mensagem -->
    <div *ngIf="mensagem" [ngClass]="tipoMensagem === 'sucesso' ? 'mensagem-sucesso' : 'mensagem-erro'" class="mensagem">
      {{ mensagem }}
    </div>

    <!-- Formulário de Edição -->
    <form *ngIf="pedido" class="form-pedido">
      <fieldset>
        <legend>Dados do Pedido</legend>

        <div class="form-group">
          <label for="codigo-display">Código</label>
          <input type="number" id="codigo-display" [(ngModel)]="pedido.codigo" name="codigo" disabled>
        </div>

        <div class="form-group">
          <label for="cpf">CPF do Cliente</label>
          <input type="number" id="cpf" [(ngModel)]="pedido.cpf" name="cpf">
        </div>

        <div class="form-group">
          <label for="nome">Nome</label>
          <input type="text" id="nome" [(ngModel)]="pedido.nome" name="nome">
        </div>

        <div class="form-group">
          <label for="codigo-imovel">Código do Imóvel</label>
          <input type="number" id="codigo-imovel" [(ngModel)]="pedido.codigo_imovel" name="codigo_imovel">
        </div>

        <div class="form-group">
          <label for="valor">Valor</label>
          <input type="number" id="valor" [(ngModel)]="pedido.valor" name="valor" step="0.01">
        </div>
      </fieldset>

      <button type="button" class="btn-salvar" (click)="salvarAlteracoes()" [disabled]="salvando">
        {{ salvando ? 'Salvando...' : 'Salvar Alterações' }}
      </button>
    </form>
  </div>
</div>
